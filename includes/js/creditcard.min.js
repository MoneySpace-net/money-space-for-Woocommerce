"use strict";var checkPaymentMethodCC=!1,appCreditCard;function createCreditCard(){appCreditCard=new Vue({el:"#credit-card-form",data:{cardNumber:"",cardHolder:"",expDate:"",expDateYear:"",cardCVV:"",cardYear:"",minCardYear:(new Date).getFullYear()},methods:{checkCardName:function(event){if(!/^[a-zA-Z\s]+$/.test(event.key))return event.preventDefault()},checkCardNumber:function(event){return/^[0-9]*$/.test(event.key)?this.cardNumber.replaceAll(" ","").length>16?event.preventDefault():void 0:event.preventDefault()},checkCVV:function(event){return/^[0-9]*$/.test(event.key)?this.cardCVV.replaceAll(" ","").length>2?event.preventDefault():void 0:event.preventDefault()},cc_format:function(value){for(var v,matches=value.replace(/\s+/g,"").replace(/[^0-9]/gi,"").match(/\d{4,16}/g),match=matches&&matches[0]||"",parts=[],i=0,len=match.length;i<len;i+=4)parts.push(match.substring(i,i+4));return parts.length?parts.join(" "):value},validateCardNumber:function(){return!(0!=this.cardNumber.trim().length||!checkPaymentMethodCC)},validateCardHolder:function(){return!(0!=this.cardHolder.trim().length||!checkPaymentMethodCC)},validateCardExpDate:function(){return!(0!=this.expDate.length||!checkPaymentMethodCC)},validateCardExpYear:function(){return!(0!=this.expDateYear.length||!checkPaymentMethodCC)},validateCardCVV:function(){return!(0!=this.cardCVV.length||!checkPaymentMethodCC)}},computed:{minCardMonth(){return this.cardYear===this.minCardYear?(new Date).getMonth()+1:1},mspay_message(){16===this.cardNumber.replaceAll(" ","").length&&this.cardHolder.trim().length>0&&this.expDateYear>0&&this.expDate>0&&this.cardCVV}},watch:{cardNumber:function(value){this.cardNumber=this.cc_format(value)},cardHolder:function(value){this.cardHolder=value.toUpperCase()}}}),document.getElementsByName("payment_method").forEach(element=>{element.addEventListener("change",(function(){checkPaymentMethodCC=!(!this.checked||"moneyspace"!=this.value)&&this.checked,appCreditCard.$forceUpdate()}))})}null!==document.getElementById("payment_method_moneyspace")&&(checkPaymentMethodCC=document.getElementById("payment_method_moneyspace").checked);